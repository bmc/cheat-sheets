<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
<head>
<title>Ubuntu Cheat Sheet</title>
<link rel="stylesheet" href="style.css">
</head>

<body>
<h1 id="ubuntu-cheat-sheet">Ubuntu Cheat Sheet</h1>

<h2 id="getting-sound-to-work">Getting sound to work.</h2>

<p><a href="https://help.ubuntu.com/community/SoundTroubleshooting">https://help.ubuntu.com/community/SoundTroubleshooting</a></p>

<p>Specific to the Intel ICH8 (in many laptops):</p>

<p><a href="http://linuxtechie.wordpress.com/2007/10/19/getting-intel-ich8-family-rev-3-sound-card-to-work-in-gutsy/">http://linuxtechie.wordpress.com/2007/10/19/getting-intel-ich8-family-rev-3-sound-card-to-work-in-gutsy/</a></p>

<p>Also, make sure the sound isn&rsquo;t (accidentally) muted.</p>

<h2 id="broadcom-wireless-nic">Broadcom wireless NIC</h2>

<p>Getting Broadcom wireless NIC to work. (This is the NIC in Dell laptops.)</p>

<p><a href="https://help.ubuntu.com/community/WifiDocs/Driver/bcm43xx/Feisty_No-Fluff">https://help.ubuntu.com/community/WifiDocs/Driver/bcm43xx/Feisty_No-Fluff</a></p>

<p>Be sure the Wifi switch on the side of the laptop is on!</p>

<h2 id="gnome-terminal-size">Gnome terminal size</h2>

<p>Changing size of Gnome terminal. From
<a href="http://ubuntuforums.org/showthread.php?t=15471">http://ubuntuforums.org/showthread.php?t=15471</a></p>

<p>The <code>gnome-terminal</code> uses a termcap file for its basic settings. To change
these, edit <code>/usr/share/vte/termcap/xterm</code> and change the <code>li#24</code> entry to
some other size. Save the file, and the next spawned Gnome terminal will
take that size.</p>

<p>Doesn&rsquo;t always work. If not, use <code>--geometry=80x44</code> (or whatever) on the
command line.</p>

<h2 id="keybindings-for-gtk-applications">Keybindings for GTK applications</h2>

<pre><code>$ gconftool-2 --set /desktop/gnome/interface/gtk_key_theme Emacs --type string
</code></pre>

<h2 id="rough-equivalent-to-chkconfig">Rough equivalent to &ldquo;chkconfig&rdquo;</h2>

<p>Use <code>update-rc.d</code>.</p>

<h2 id="install-sun-jdk">Install Sun JDK</h2>

<p><a href="http://broersa.wordpress.com/2008/02/20/install-sun-jdk-6-on-ubuntu-gutsy/">http://broersa.wordpress.com/2008/02/20/install-sun-jdk-6-on-ubuntu-gutsy/</a></p>

<pre><code>$ sudo apt-get install sun-java6-jdk sun-java6-plugin sun-java6-fonts
$ sudo update-java-alternatives --set java-6-sun
</code></pre>

<h2 id="mounting-remote-windows-or-samba-shares">Mounting remote Windows or Samba shares</h2>

<p>First, install <code>smbfs</code>:</p>

<pre><code>$ sudo apt-get install smbfs
</code></pre>

<p>Then, add something like this to <code>/etc/fstab</code></p>

<pre><code>//tera1/share /mnt/tera1 cifs username=root,password=,noauto,uid=0,rw,suid 0 0
</code></pre>

<h2 id="problems-removing-package">Problems removing package</h2>

<p>When removing a package, you get</p>

<pre><code>subprocess pre-removal script returned error
</code></pre>

<p>and the package refuses to go away. Solution:</p>

<ul>
  <li>Go to <code>/var/lib/dpkg/info</code></li>
  <li>Look for <code>package.prerm</code></li>
  <li>Remove it</li>
  <li>Try again</li>
</ul>

<h2 id="disable-empty-trash-prompt">Disable &ldquo;empty trash&rdquo; prompt</h2>

<p>See <a href="gnome.html">gnome</a> cheat sheet.</p>

<h2 id="playing-wmv-files-and-other-proprietary-stuff">Playing WMV files, and other proprietary stuff:</h2>

<p><a href="https://help.ubuntu.com/community/RestrictedFormats">https://help.ubuntu.com/community/RestrictedFormats</a></p>

<h2 id="emacs-with-decent-fonts">Emacs with decent fonts</h2>

<p><a href="https://launchpad.net/~ubuntu-elisp/+archive/ppa">https://launchpad.net/~ubuntu-elisp/+archive/ppa</a>
<a href="http://emacs.orebokech.com/">http://emacs.orebokech.com/</a></p>

<h2 id="adding-a-new-disk-and-putting-it-in-a-logical-volume">Adding a new disk and putting it in a logical volume</h2>

<h3 id="preparation">Preparation</h3>

<p>First, add the hardware.</p>

<p>Then, use the GUI Disk Utility to format the disk (i.e., to create
the partition table). Do NOT create a file system.</p>

<h3 id="create-the-physical-volume">Create the physical volume</h3>

<p>Use <code>fdisk -l</code> to verify which device is associated with the new disk.
Then, at the command line. create a physical volume. Let&rsquo;s suppose the
disk is <code>/dev/sdb</code>:</p>

<pre><code># pvcreate /dev/sdb
</code></pre>

<p>Doesn&rsquo;t hurt to verify the creation with <code>pvdisplay</code>.</p>

<h3 id="create-the-volume-group">Create the volume group</h3>

<p>Next, create the volume group. With a single partition:</p>

<pre><code># vgcreate drive2 /dev/sdb
</code></pre>

<p><code>drive2</code> is an arbitrary name for the volume group. It can be anything,
as long as it doesn&rsquo;t clash with an existing volume group&rsquo;s name.</p>

<p>To group multiple partitions in the same group:</p>

<pre><code># vgcreate drive2 /dev/sdb /dev/sdc ...
</code></pre>

<p>Now, run <code>vgdisplay</code> to show the new volume group configuration.</p>

<h3 id="create-the-logical-volumes">Create the logical volumes</h3>

<pre><code># lvcreate --name usrlocal --size 80G drive2
# lvcreate --name home2 --size 160G drive2
</code></pre>

<p>To use 100% of all disks:</p>

<pre><code># lvcreate --name foo --extents 100%FREE drive3
</code></pre>

<h3 id="format-and-mount-the-new-volumes">Format and mount the new volumes:</h3>

<pre><code># mkfs.ext4 /dev/drive2/usrlocal
# mkfs.ext4 /dev/drive2/home2
# mount /dev/drive2/usrlocal /usr/local
# mount /dev/drive2/home2 /home2
</code></pre>

<p>Reference: <a href="http://www.davelachapelle.ca/guides/ubuntu-lvm-guide/">http://www.davelachapelle.ca/guides/ubuntu-lvm-guide/</a></p>

<h2 id="using-logical-volumes-for-virtualization-with-kvm">Using logical volumes for virtualization with kvm</h2>

<p>First, ensure that a logical volume exists. See above. Then, ensure that
then virtual machine is <em>not</em> running.</p>

<h3 id="if-moving-from-a-file-based-image-img-file">If moving from a file-based image (<code>.img</code> file)</h3>

<pre><code># dd /path/to/machine.img /dev/volgroupname/lvname
</code></pre>

<p>e.g.:</p>

<pre><code># dd /var/lib/libvirt/images/foobar.img /dev/virtimages/foobar
</code></pre>

<p>This step, obviously, can take awhile.</p>

<p>Then, using <code>virt-manager</code>, edit the virtual machine&rsquo;s configuration, and
create or edit an IDE device to point to the logical volume name
(e.g., <code>/dev/virtimages/foobar</code>).</p>

<p>Note: This also works, but it&rsquo;s more error-prone:</p>

<pre><code>$ virsh edit foobar

 --- edit the XML, removing the existing disk image and replacing
 --- it with:

&lt;disk type='block' device='disk'&gt;
  &lt;source dev='/dev/virtimages/foobar'/&gt;
  &lt;target dev='hda' bus='ide'/&gt;
&lt;/disk&gt;
</code></pre>

<p>Fire up the virtual machine.</p>

<p>Reference: (http://blog.codefront.net/2010/02/01/setting-up-virtualization-on-ubuntu-with-kvm/&gt;</p>

<h2 id="sharing-a-printer-to-windows">Sharing a printer to Windows</h2>

<p>See: <a href="https://help.ubuntu.com/community/NetworkPrintingFromWinXP">https://help.ubuntu.com/community/NetworkPrintingFromWinXP</a></p>

<p>Works with Windows 7.</p>

</body>
</html>
