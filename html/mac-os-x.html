<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
<head>
<title>Mac OS X cheat sheet</title>
<link rel="stylesheet" href="style.css">
</head>

<body>
<h1 id="mac-os-x-cheat-sheet">Mac OS X cheat sheet</h1>

<h2 id="focus-follows-mouse">Focus follows mouse</h2>

<p>Support is limited currently. But, courtesy of
<a href="http://www.macosxhints.com/article.php?story=20031029203936659">http://www.macosxhints.com/article.php?story=20031029203936659</a></p>

<blockquote>
  <p>A feature that I&rsquo;ve long waited for &ndash; window focus that follows the
mouse between terminal windows &ndash; has finally been added (in a hidden
manner) to the 10.3 Terminal application. From the Terminal, type:</p>

  <pre><code>defaults write com.apple.Terminal FocusFollowsMouse -string YES
</code></pre>

  <p>Quit and restart the Terminal and enjoy! Now if I only had window
autoraise, I&rsquo;d be in heaven!</p>
</blockquote>

<h2 id="emacsen">Emacsen</h2>

<h3 id="aquamacs">Aquamacs</h3>

<p>Completely re-worked, Carbon-ized, Mac-specific version of GNU Emacs.</p>

<h3 id="mac-ports">Mac Ports</h3>

<p>Emacs as installed via Darwin Ports (&ldquo;port&rdquo;). Seems to have problems
creating a mapping from Command (or Option) to the Meta key.</p>

<h3 id="build-from-source">Build from source</h3>

<p>Regular GNU Emacs. See 
<a href="http://members.shaw.ca/akochoi-emacs/stories/obtaining-and-building.html">http://members.shaw.ca/akochoi-emacs/stories/obtaining-and-building.html</a></p>

<p>Solution:</p>

<p>Build first for NextStep:</p>

<pre><code>$ ./configure --with-ns --without-dbus
$ make bootstrap
$ make
$ sudo make install
</code></pre>

<p>Next, build for X:</p>

<pre><code>$ make clean
$ ./configure --with-x
$ make bootstrap
$ make
$ sudo cp src/emacs /usr/local/bin/emacs-x
</code></pre>

<p>Then, use a modified version of the <code>ew</code> front-end shell script to fire up
the appropriate one, depending on whether login is local or remote.</p>

<p>Note: &ndash;with-ns creates a Mac <code>Emacs.app</code> folder, which ends up being
installed in <code>/Applications</code>, allowing use directly from the desktop.</p>

<h2 id="thunderbird">Thunderbird</h2>

<p>If it hangs, try removing all the &ldquo;.msf&rdquo; folders in the local folders area,
letting T-bird rebuild them (especially if they were built by T-bird
running on another OS).</p>

<h2 id="creating-a-login-hook">Creating a login hook</h2>

<p>One solution, adapted from <a href="http://www.bombich.com/mactips/loginhooks.html">http://www.bombich.com/mactips/loginhooks.html</a>
and <a href="http://docs.info.apple.com/article.html?artnum=301446">http://docs.info.apple.com/article.html?artnum=301446</a>:</p>

<p>First, create directory <code>/Library/Local</code>. Then, create file
<code>/Library/Local/on-login.sh</code> containing, e.g.:</p>

<pre><code>#!/bin/sh

case "$#" in
    0)
        echo "No user specified!" &gt;&amp;2
        exit 1
        ;;
esac

if \[ -f /Users/$1/.on-login.sh \]
then
    su $1 -c "/Users/$1/.on-login.sh"
fi
</code></pre>

<p>Use individual <code>.on-login.sh</code> scripts in user directories.</p>

<h2 id="automounting-shares-and-nfs-partitions">Automounting shares and NFS partitions:</h2>

<ul>
  <li><a href="http://sial.org/howto/osx/automount/">http://sial.org/howto/osx/automount/</a></li>
  <li><a href="http://www.bombich.com/mactips/automount.html">http://www.bombich.com/mactips/automount.html</a></li>
  <li><a href="http://mactechnotes.blogspot.com/2005/08/mac-os-x-as-nfs-client_31.html">http://mactechnotes.blogspot.com/2005/08/mac-os-x-as-nfs-client_31.html</a></li>
</ul>

<h2 id="automounting-windows-shares-on-login">Automounting Windows shares on login</h2>

<p><a href="http://www.macosxhints.com/article.php?story=20070202190047133">http://www.macosxhints.com/article.php?story=20070202190047133</a></p>

<h2 id="restarting-a-server-such-as-postfix">Restarting a server (such as Postfix)</h2>

<pre><code>$ sudo launchctl stop org.postfix.master
$ sudo launchctl start org.postfix.master
</code></pre>

<h2 id="vpn-routing">VPN routing</h2>

<p>Bring up a PPTP VPN and, by default, all traffic gets routed over that
connection. Solutions:</p>

<p>Via Internet Connect:</p>

<ol>
  <li>Pull up Internet Connect.</li>
  <li>Select the PPTP VPN.</li>
  <li>Go to the menu bar and select <em>Connect &gt; Options</em></li>
  <li>Uncheck &ldquo;Send all traffic over VPN connection&rdquo;</li>
</ol>

<p>Or, use a shell script to change the routes.</p>

<h2 id="lock-screen-without-logging-off-or-waiting-for-screensaver">Lock screen without logging off or waiting for screensaver</h2>

<p><a href="http://www.macworld.com/weblogs/macosxhints/2006/01/lockscreen/index.php">http://www.macworld.com/weblogs/macosxhints/2006/01/lockscreen/index.php</a></p>

<blockquote>
  <p>You can use this application (in your Applications/Utilities folder) to
quickly activate your screen saver from the menubar and require a
password to turn it off&ndash;even if the Security pane option isn&rsquo;t enabled.
Open Keychain Access and then go to Keychain Access: Preferences. Click
on the General tab and select the Show Status in Menu Bar option. A small
lock icon will appear in your menu bar. Close the Preferences window and
quit Keychain Access. Now click the lock icon in your menubar and choose
Lock Screen to start your screen saver.</p>
</blockquote>

<p><em>Another solution:</em> The LockTight preference pane, which allows setting a
hot key combination for the &ldquo;lock screen&rdquo; capability.
<a href="http://mac.pieters.cx/">http://mac.pieters.cx/</a></p>

<p>Also, in Snow Leopard, Ctrl-Shift-Eject activates the screen saver.</p>

<h2 id="burning-a-disc">Burning a disc</h2>

<h3 id="burning-a-dvd-from-a-disk-image">Burning a DVD from a disk image</h3>

<p>Burning a DVD from a disk image (<code>.img</code>), such as one created by iDVD:</p>

<ul>
  <li>Mount the image (double click on it).</li>
  <li>Start the Disk Utility (Applications/Disk Utility).</li>
  <li>Select the mounted image.</li>
  <li>The Burn button in the upper left of the Disk Utility will activate.</li>
  <li>Put a DVD (R, R/W) in the drive.</li>
  <li>Click the Burn button.</li>
</ul>

<h3 id="burning-from-an-iso">Burning from an ISO</h3>

<ul>
  <li>Locate the .iso file in a Finder window</li>
  <li>Single click it</li>
  <li><em>File &gt; Open With &gt; Disk Utility</em></li>
  <li>Select the <code>.iso</code> file in the Disk Utility window</li>
  <li><em>Images &gt; Burn</em></li>
</ul>

<h3 id="creating-and-burning-a-data-disc">Creating and burning a data disc</h3>

<ul>
  <li>Insert a burnable disc.</li>
  <li>Open it in the Finder.</li>
  <li>Drag files to the disc.</li>
  <li>Press the Burn button.</li>
</ul>

<h2 id="create-a-dvd-from-a-videots-directory">Create a DVD from a VIDEO_TS directory</h2>

<p>Create a DVD from a <code>VIDEO_TS</code> directory (e.g., as created from iDVD&rsquo;s
&ldquo;Save to VIDEO_TS&rdquo; capability). From
<a href="http://www.macosxhints.com/article.php?story=20070612161317338">http://www.macosxhints.com/article.php?story=20070612161317338</a>:</p>

<p>Type in this command and change the paths to suit:</p>

<pre><code>$ hdiutil makehybrid -udf -udf-volume-name DVD_NAME \
  -o MY_DVD.iso /path/to/VIDEO_TS/parent/folder
</code></pre>

<p>Make sure that <code>/path/to/VIDEO_TS/parent/folder</code> is the path to the folder
containing the <code>VIDEO_TS</code> folder, not the <code>VIDEO_TS</code> folder itself. Once
the <code>.iso</code> file has been created, drag this to Disk Utility and hit the
Burn button.</p>

<h2 id="creating-a-dock-folder-a-stack">Creating a dock folder (a &ldquo;stack&rdquo;)</h2>

<p>Just drag a folder to the dock. Note: Can&rsquo;t always drag from the sidebar,
though (e.g., Applications)</p>

<h2 id="calibrating-the-monitor">Calibrating the monitor</h2>

<p>Use <em>System Preferences &gt; Displays &gt; Calibrate</em>. Select Expert Mode.</p>

<h2 id="mac-fuse-notes">Mac Fuse notes</h2>

<p><a href="http://code.google.com/p/macfuse/wiki/HOWTO">http://code.google.com/p/macfuse/wiki/HOWTO</a></p>

<p>When building, use &ldquo;port&rdquo; to install pkg-config, glib-2.0, glib2-devel</p>

<h3 id="sshfs">sshfs</h3>

<p>Don&rsquo;t build <em>sshfs</em> Universally (i.e., leave out <code>-arch ppc1</code>).
It won&rsquo;t work, because the port-installed libraries are i386-only.</p>

<p>Run <code>configure</code> like this:</p>

<pre><code>CFLAGS="-D__FreeBSD__=10 -O -g -arch i386 -isysroot /Developer/SDKs/MacOSX10.4u.sdk" LDFLAGS="-arch i386" ./configure --prefix=/usr/local --disable-dependency-tracking
</code></pre>

<p>After running <code>configure</code>, manually edit Makefile and remove <code>-pthread</code></p>

<p>See also the list of FUSE file system projects at
<a href="http://fuse.sourceforge.net/wiki/index.php/FileSystems">http://fuse.sourceforge.net/wiki/index.php/FileSystems</a></p>

<h3 id="uninstalling">Uninstalling</h3>

<p>From the FAQ (http://code.google.com/p/macfuse/wiki/FAQ):</p>

<p>Q: How can I uninstall MacFUSE Core?</p>

<p>A: If you installed &ldquo;MacFUSE Core.pkg&rdquo; version 0.1.9 or greater then
   you can use the uninstall script. From a terminal window run the
   following command:</p>

<pre><code>sudo /System/Library/Filesystems/fusefs.fs/uninstall-macfuse-core.sh
</code></pre>

<h2 id="safari">Safari</h2>

<p>See the <a href="safari.html">Safari</a> cheat sheet.</p>

<h2 id="to-capture-audio-going-to-sound-driver">To capture audio going to sound driver</h2>

<p>Use WireTap Pro: <a href="http://www.ambrosiasw.com/utilities/wiretap/">http://www.ambrosiasw.com/utilities/wiretap/</a></p>

<h2 id="to-capture-audio-from-specific-applications">To capture audio from specific applications</h2>

<p>Use Audio Hijack Pro: <a href="http://rogueamoeba.com/audiohijackpro/">http://rogueamoeba.com/audiohijackpro/</a></p>

<h2 id="connecting-to-windows-share">Connecting to Windows share</h2>

<p>Problem: Can&rsquo;t connect to Windows share; log says:</p>

<pre><code> smb_smb_negotiate: server configuration requires packet signing, which
 we dont support
</code></pre>

<p>See item #1 in the Samba cheat sheet.</p>

<h2 id="capturing-the-screen">Capturing the screen</h2>

<ul>
  <li>Entire screen: Command-Shift-3</li>
  <li>Just a portion: Command-Shift-4, then drag rectangle around area</li>
</ul>

<p>Results are written to a PNG file on the Desktop</p>

<h2 id="disable-the-dashboard">Disable the Dashboard</h2>

<p>From MacOSXHints.com:</p>

<p>To turn Dashboard off:</p>

<pre><code>$ defaults write com.apple.dashboard mcx-disabled -boolean YES 
</code></pre>

<p>To turn Dashboard on:</p>

<pre><code>$ defaults write com.apple.dashboard mcx-disabled -boolean NO 
</code></pre>

<p>You have to restart the Dock after making either change for it to take
effect:</p>

<pre><code>$ killall Dock 
</code></pre>

<h2 id="running-apache">Running Apache</h2>

<p>Enable &ldquo;Personal Web Sharing&rdquo; in the <em>System Preferences &gt; Sharing</em> panel.</p>

<ul>
  <li>Personal directory is in <code>~/Sites</code></li>
  <li>DocumentRoot is <code>/Library/WebServer/Documents</code></li>
  <li><code>httpd.conf</code> is in <code>/etc/httpd</code></li>
</ul>

<p>NOTE: When you enable personal web sharing, the system creates file
<code>/etc/httpd/users/$USER.conf</code> to contain the Apache <code>{{content}}lt;Directory{{content}}gt;</code>
entry for the user&rsquo;s Sites folder. Any changes (e.g., to enable
symlinking) must be made in there, not in <code>httpd.conf</code>.</p>

<h2 id="gnu-configure-errors">GNU configure errors</h2>

<p>When building GNU-based open source, <code>configure</code> fails with</p>

<pre><code>configure fails with 'Can't determine host type'
</code></pre>

<p>Solution: Copy <code>config.guess</code> and <code>config.sub</code> from <code>/usr/share/libtool</code> to
the current directory (i.e., the directory containing the GNU
autoconf-generated <code>configure</code> script).</p>

<h2 id="netbeans-with-java-6">NetBeans with Java 6</h2>

<p>Use these settings, in <code>~/.netbeans/5.5/etc/netbeans.conf</code>:</p>

<pre><code>netbeans_default_options="-J-Dfile.encoding=UTF-8 -J-Dapple.awt.graphics.UseQuartz=true -J-Xms32m -J-Xmx512m -J-XX:PermSize=32m -J-XX:MaxPermSize=160m -J-Xverify:none -J-Dapple.laf.useScreenMenuBar=true --fontsize 11"
</code></pre>

<p>Courtesy: <a href="http://www.entropy.ch/blog/2006/11/22/More-NetBeans-on-Mac.html">http://www.entropy.ch/blog/2006/11/22/More-NetBeans-on-Mac.html</a></p>

<h2 id="startup-items">Startup Items</h2>

<p>Primer on Startup Items:</p>

<p><a href="http://www.oreillynet.com/pub/a/mac/2003/10/21/startup.html">http://www.oreillynet.com/pub/a/mac/2003/10/21/startup.html</a></p>

<h2 id="hiding-users-on-login-screen">Hiding users on login screen</h2>

<pre><code>sudo defaults write /Library/Preferences/com.apple.loginwindow \
HiddenUsersList -array-add account1 account2 account3
</code></pre>

<p>Be sure to type <code>.../com.apple.loginwindow</code>, NOT
<code>.../com.apple.loginwindow.plist</code>. The file name ends in <code>.plist</code>, but the
<code>defaults</code> utility ignores the extension. (Using the extension results in
creation of file <code>/Library/Preferences/com.apple.loginwindow.plist.plist</code>,
which is no help at all.</p>

<h2 id="creating-a-custom-icon-for-a-drive-or-folder">Creating a custom icon for a drive or folder</h2>

<p><a href="http://macapper.com/2007/04/21/how-to-create-custom-icons-for-your-mac/">http://macapper.com/2007/04/21/how-to-create-custom-icons-for-your-mac/</a></p>

<h2 id="encrypted-file-systems">Encrypted file systems</h2>

<p>Can use Apple&rsquo;s FileVault. However, it encrypts the entire home directory.
To encrypt only one directory tree, use one of these options:</p>

<ul>
  <li>
    <p>Use a FUSE-based file system like EncFS, in conjunction with Mac-FUSE.
This option works very well, and it results in a &ldquo;file system&rdquo; that can
be copied to a Linux machine and mounted there.</p>
  </li>
  <li>
    <p>Use an encrypted Mac disk image. From
<a href="http://www.macworld.com/2007/10/features/lockup_others/index.php">http://www.macworld.com/2007/10/features/lockup_others/index.php</a>:</p>
  </li>
</ul>

<blockquote>
  <p>If your computer were stolen, the thief would be able to read any of your
files. Requiring a password to log in wouldn’t keep your data safe,
because someone could use an OS X Install disc to reset your password, or
remove your hard drive and view the files on another computer. Encrypting
your most sensitive files is the best solution.</p>

  <p>FileVault, introduced in OS X 10.3 (Panther), can do this, but encrypting
all your data in this way can be dangerous; even a minor disk error could
leave you unable to access any of your files. A better way is to create
an encrypted disk image.</p>

  <p>In Disk Utility, create a new disk image (File: New: Blank Disk Image).
Then, under Encryption, choose AES-128. From the Format pop-up menu,
choose Sparse Disk Image and specify a name and location. When the
Authenticate dialog box appears, choose a password; clicking on the key
button next to the Password text box will summon Apple&rsquo;s Password
Assistant, which can help you generate a secure one. (See full
instructions (<a href="http://find.macworld.com/2425">http://find.macworld.com/2425</a>); if that seems like too much
trouble, you can also create an encrypted disk image with a third-party
product such as PGP Desktop Home.)</p>

  <p>Once you&rsquo;ve created an encrypted disk image, you can use it to store any
files containing private data. Just remember that as long as the disk
image is mounted, your files are vulnerable. So be sure to log out (or at
least unmount the disk image) whenever you step away from your computer.</p>
</blockquote>

<h2 id="those-dsstore-files">Those .DS_Store files</h2>

<p>Preventing Mac OS X from creating .DS_Store files over network connections
<a href="http://docs.info.apple.com/article.html?artnum=301711">http://docs.info.apple.com/article.html?artnum=301711</a></p>

<p>Note: This will affect the user&rsquo;s interactions with SMB/CIFS, AFP, NFS, and
WebDAV servers.</p>

<p>Open a terminal window and type:</p>

<pre><code>$ defaults write com.apple.desktopservices DSDontWriteNetworkStores true
</code></pre>

<p>Restart the computer.</p>

<p>Disabling the creation of <code>.DS_Store</code> files on remote file servers can
cause unexpected behavior in the Finder. See
<a href="http://docs.info.apple.com/article.html?artnum=107822">http://docs.info.apple.com/article.html?artnum=107822</a></p>

<p>(Get Info comments aren&rsquo;t properly propagated.)</p>

<h2 id="clear-dns-cache">Clear DNS cache</h2>

<pre><code>$ sudo lookupd -flushcache
</code></pre>

<h2 id="change-printer-info">Change printer info</h2>

<p>Use <code>/Applications/Utilities/Printer Setup Utility</code></p>

<h2 id="bind-on-mac-os-x">BIND on Mac OS X</h2>

<p><a href="http://slaptijack.com/system-administration/bind-startup-in-mac-os-x-104-tiger/">http://slaptijack.com/system-administration/bind-startup-in-mac-os-x-104-tiger/</a>
<a href="http://slaptijack.com/system-administration/starting-bind-in-os-x-even-after-reboot/">http://slaptijack.com/system-administration/starting-bind-in-os-x-even-after-reboot/</a></p>

<h2 id="dynamic-linking">Dynamic linking</h2>

<p>Use DYLD_LIBRARY_PATH to pick up <code>.dylib</code> files.</p>

<h2 id="lpd-printer-stopped-no-explanation">LPD printer stopped. No explanation</h2>

<p>Solution: Check <code>/etc/hosts.lpd</code> on machine running LPD.</p>

<h2 id="change-file-associations">Change file associations</h2>

<p>To change default application that opens a file (e.g., PDF):</p>

<ul>
  <li>Right click on a file of that type.</li>
  <li>Select <em>Get Info</em></li>
  <li>Change the <code>Open with</code> value.</li>
  <li>Select <code>Change All</code> to change for all files, not just that one.</li>
</ul>

<h2 id="disable-empty-trash-confirmation-dialog">Disable &ldquo;Empty Trash&rdquo; confirmation dialog</h2>

<p>Go to <em>Finder &gt; Preferences</em>, select the <em>Advanced</em> button, and uncheck
&ldquo;Show warning before emptying the Trash.&rdquo; You may also wish to check the
&ldquo;Empty Trash securely&rdquo; while you&rsquo;re there.</p>

<h2 id="running-cron">Running <em>cron</em></h2>

<p><a href="http://mactips.dwhoard.com/home/system/schedule-automatic-tasks">http://mactips.dwhoard.com/home/system/schedule-automatic-tasks</a></p>

<p>Once the crontab file and the associated script file(s) have been created
and stored in the specified locations, you must initiate the cron process
by issuing the command:</p>

<pre><code># crontab $HOME/.crontab
</code></pre>

<h2 id="working-with-pdfs">Working with PDFs</h2>

<h3 id="merge-two-pdfs-or-pages-thereof">Merge two PDFs, or pages thereof</h3>

<ul>
  <li>Open both PDF documents in Preview.</li>
  <li>Ensure that the sidebar is visible in both. (<em>View &gt; Sidebar &gt; Show&hellip;</em>)</li>
  <li>Holding down the Command key, drag the pages from the source document to
the target document.</li>
  <li>Rearrange within the sidebar of the target document.</li>
  <li>Save.</li>
</ul>

<h3 id="add-an-image-to-a-pdf">Add an image to a PDF</h3>

<ul>
  <li>Convert the PDF document to an image with File &gt; Save As&hellip;. Choose PN
as the format and change the resolution as desired.</li>
  <li>Open the image file and select the whole image with Edit &gt; Select Al
(or select just a part of it with the mouse if you wish).</li>
  <li>Copy the selection via Command-C or <em>Edit &gt; Copy</em>.</li>
  <li>Go back to the document (which is now a PNG image) and paste the
selection with Command-V or <em>Edit &gt; Paste</em>, and resize it as you wish.</li>
  <li>Save the file as a PDF with <em>File &gt; Save As&hellip;</em> Choose PDF as the format.</li>
</ul>

<p>Note that a PDF made from an image is not searchable, so that is a drawback
to this procedure.</p>

<h2 id="control-sound-devices-from-menu-bar">Control sound devices from menu bar</h2>

<p>Use SoundSource: <a href="http://www.rogueamoeba.com/freebies/">http://www.rogueamoeba.com/freebies/</a></p>

<h2 id="prevent-mac-from-going-to-sleep">Prevent Mac from going to sleep</h2>

<p>Use Caffeine, which sits in the menu bar: <a href="http://lightheadsw.com/caffeine">http://lightheadsw.com/caffeine</a></p>


</body>
</html>
